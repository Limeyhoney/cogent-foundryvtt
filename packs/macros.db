{"name":"Custom Dice Roll","type":"script","author":"EpdQM6dhtwxIXC6Q","img":"icons/svg/dice-target.svg","scope":"global","command":"new Dialog({\n    title:'Custom Roll',\n    content:`\n    <form>\n        <div class=\"form-group\">\n            <label>Dice</label>\n            <input type='number' name='value' data-dtype=\"Number\"></input>\n        </div>\n        <div class=\"form-group\">\n            <label>Use Destiny?</label>\n            <input type='checkbox' name='destiny'></input>\n        </div>\n    </form>`,\n    buttons:{\n      yes: {\n        icon: \"<i class='fas fa-dice'></i>\",\n        label: `Roll`,\n        callback: (html) => {\n            let destiny = html.find('input[name=\\'destiny\\']').is(':checked');\n            let value = html.find('input[name=\\'value\\']').val();\n            let speaker = ChatMessage.getSpeaker();\n            let actor = game.actors.get(speaker[\"actor\"]);\n            if(value == \"\") {value = \"0\"};\n            value = parseInt(value);\n            let minimum = 4;\n            if (destiny == true) {minimum = 3;}\n            let rollData = {\n                num: value,\n                min: minimum\n            };\n            let rollFormula = \"(@num)d6cs>=@min\";\n            let messageData = {speaker: ChatMessage.getSpeaker()};\n            new Roll(rollFormula, rollData).roll().toMessage(messageData);\n        }\n      },\n      no: {\n        label: `Cancel`\n      }\n    },\n    default:'yes',\n    close: html => {\n       \n    }\n  }).render(true);","folder":null,"sort":0,"permission":{"default":0,"mYjx68T8K5Y7LRIo":3,"EpdQM6dhtwxIXC6Q":3},"flags":{"core":{"sourceId":"Macro.MOxF8UmfHmbNFgcj"}},"_id":"7yJiq0x17Vo3q4j7"}
